<!DOCTYPE html>
<html>
<head>
    <title>Craving Control</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/bulma.css">
    <script type="text/javascript" src="js/app.js"></script>
    <style type="text/css">
        html {
            background:#EFEFEF;
        }
    </style>
</head>
<body>
</body>

    <script type="text/javascript">
        
        /* Initialize app with:
         - jwt
         - firstName
         - ?
         */

        function fetch(key) {
            var value = localStorage.getItem(key);
            return value ? value : "";
        }

        var flags = {"token": fetch("token")
                    ,"firstName": fetch("firstName")
                    }

        var app = Elm.Main.fullscreen(flags);

        app.ports.setItem.subscribe(function(keyValue) {
            var [key, value] = keyValue;
            localStorage.setItem(key, value);
        });

        app.ports.removeItem.subscribe(function(key) {
            localStorage.removeItem(key);
        });


    </script>

</html>